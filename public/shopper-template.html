<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Shopper | E-Commerce</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css" rel="stylesheet">

<style>
:root{--primary:#2563eb}
body{margin:0;font-family:system-ui;background:#f9fafb}

/* HEADER */
header{
  position:sticky;top:0;z-index:1000;
  background:#fff;border-bottom:1px solid #e5e7eb;
  padding:14px 32px;
  display:flex;justify-content:space-between;align-items:center;
  flex-wrap:wrap;
}
.brand-title{font-size:26px;font-weight:700}
nav span{margin:0 12px;cursor:pointer;position:relative}
nav span::after{
  content:"";position:absolute;width:0;height:2px;
  background:var(--primary);bottom:-4px;left:0;transition:.3s
}
nav span:hover::after{width:100%}
.shortcut-icons{display:flex;gap:14px}
.shortcut-icons span{font-size:20px;cursor:pointer;position:relative}
.cart-count{
  position:absolute;top:-6px;right:-8px;
  background:red;color:#fff;font-size:11px;
  padding:2px 6px;border-radius:50%
}

/* OFFER */
article{background:#000;color:#fff;text-align:center;padding:8px;font-size:14px}
.bi-lightning-fill{color:gold}

/* HERO */
.hero{
  min-height:420px;
  background:linear-gradient(to right,rgba(0,0,0,.6),rgba(0,0,0,.3)),
  url("https://images.unsplash.com/photo-1521335629791-ce4aec67dd47") center/cover;
  color:#fff;display:flex;align-items:center;padding:40px
}
.hero h1{font-size:42px;font-weight:800}
.hero p{font-size:18px}

/* PRODUCTS */
.product-card img{height:200px;object-fit:cover}

/* CART MOBILE FIX */
.modal-body .d-flex{
  flex-wrap:wrap;
  gap:10px;
}

/* FOOTER */
footer{
  background:#000;color:#d1d5db;padding:32px;
  display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:24px
}
footer h5{color:#fff}

/* RESPONSIVE */
@media(max-width:992px){
  header{padding:12px 20px}
  .hero h1{font-size:34px}
}
@media(max-width:768px){
  nav{display:none}
  .hero{padding:24px;min-height:320px}
  .hero h1{font-size:28px}
  .hero p{font-size:15px}
}
@media(max-width:480px){
  .brand-title{font-size:22px}
  article{font-size:12px}
}
</style>
</head>

<body>

<header>
  <div class="brand-title">Shopper.</div>
  <nav>
    <span>Home</span><span>Catalog</span><span>Shop</span><span>Blog</span>
  </nav>
  <div class="shortcut-icons">
    <span class="bi bi-person" onclick="openLogin()"></span>
    <span class="bi bi-cart3" onclick="openCart()">
      <span class="cart-count" id="cartCount">0</span>
    </span>
    <span class="bi bi-receipt" onclick="openOrderHistory()"></span>
  </div>
</header>

<article>
  <span class="bi bi-lightning-fill"></span>
  HAPPY HOLIDAY DEALS ON EVERYTHING
  <span class="bi bi-lightning-fill"></span>
</article>

<section class="hero">
  <div>
    <h1>New Season Arrivals</h1>
    <p>Discover the latest fashion trends</p>
    <button class="btn btn-primary mt-2">Shop Now</button>
  </div>
</section>

<section class="container my-5">
  <h2 class="fw-bold mb-4 text-center text-md-start">Featured Products</h2>

  <div id="productLoader" class="text-center my-5">
    <div class="spinner-border text-primary"></div>
    <p class="mt-2">Loading products...</p>
  </div>

  <div class="row g-4" id="productGrid"></div>
</section>

<!-- CART -->
<div class="modal fade" id="cartModal">
<div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
<div class="modal-content">
<div class="modal-header">
<h5>My Cart</h5>
<button class="btn-close" data-bs-dismiss="modal"></button>
</div>
<div class="modal-body" id="cartItems"></div>
<div class="modal-footer justify-content-between">
<h5>Total: ₹<span id="cartTotal">0</span></h5>
<button class="btn btn-primary" onclick="checkout()">Checkout</button>
</div>
</div>
</div>
</div>

<!-- LOGIN -->
<div class="modal fade" id="loginModal">
<div class="modal-dialog modal-dialog-centered">
<div class="modal-content p-4">
<h4 class="mb-3">Login</h4>
<input class="form-control mb-3" placeholder="Email">
<input type="password" class="form-control mb-3" placeholder="Password">
<button class="btn btn-primary w-100">Login</button>
</div>
</div>
</div>

<!-- PAYMENT -->
<div class="modal fade" id="paymentModal">
<div class="modal-dialog modal-dialog-centered">
<div class="modal-content p-4 text-center">
<h4 class="mb-3">Processing Payment</h4>
<div id="paymentStatus">
<div class="spinner-border text-primary"></div>
<p class="mt-3">Please wait...</p>
</div>
</div>
</div>
</div>

<!-- SUMMARY -->
<div class="modal fade" id="orderSummaryModal">
<div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
<div class="modal-content p-4">
<h4 class="mb-3">Order Summary</h4>
<div id="orderDetails"></div>
<hr>
<h5 class="text-end">Total Paid: ₹<span id="orderTotal"></span></h5>
<button class="btn btn-success mt-3" data-bs-dismiss="modal">Continue Shopping</button>
</div>
</div>
</div>

<!-- HISTORY -->
<div class="modal fade" id="orderHistoryModal">
<div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
<div class="modal-content p-4">
<h4 class="mb-3">Order History</h4>
<div id="orderHistoryList"></div>
<button class="btn btn-secondary mt-3" data-bs-dismiss="modal">Close</button>
</div>
</div>
</div>

<footer>
  <div>
    <h5>Shopper.</h5>
    <p>Modern e-commerce UI</p>
  </div>
  <div>
    <h5>Support</h5>
    <p>Contact · FAQ · Shipping</p>
  </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<!-- YOUR JS (UNCHANGED, WORKING) -->
<script>
/* FAKE API */
let products=[];
function fetchProducts(){
return new Promise(r=>setTimeout(()=>r([
{id:1,name:"Sneakers",price:2999,img:"https://images.unsplash.com/photo-1525966222134-fcfa99b8ae77"},
{id:2,name:"Backpack",price:1999,img:"https://images.unsplash.com/photo-1500530855697-b586d89ba3ee"},
{id:3,name:"Watch",price:4999,img:"https://images.unsplash.com/photo-1523275335684-37898b6baf30"},
{id:4,name:"Jacket",price:3499,img:"https://images.unsplash.com/photo-1512436991641-6745cdb1723f"}
]),1200))
}

let cart=JSON.parse(localStorage.getItem("cart"))||[];
let orders=JSON.parse(localStorage.getItem("orders"))||[];

async function loadProducts(){
const g=document.getElementById("productGrid");
const l=document.getElementById("productLoader");
products=await fetchProducts();
l.style.display="none";g.innerHTML="";
products.forEach(p=>{
g.innerHTML+=`
<div class="col-6 col-md-4 col-lg-3">
<div class="card product-card h-100 shadow-sm">
<img src="${p.img}" class="card-img-top">
<div class="card-body">
<h6>${p.name}</h6>
<p class="fw-bold">₹${p.price}</p>
<button class="btn btn-dark w-100" onclick="addToCart(${p.id})">Add to Cart</button>
</div></div></div>`})
}

function saveCart(){localStorage.setItem("cart",JSON.stringify(cart))}
function addToCart(id){
const i=cart.find(x=>x.id===id);
i?i.qty++:cart.push({...products.find(p=>p.id===id),qty:1});
saveCart();updateCart();
}
function changeQty(i,d){cart[i].qty+=d;if(cart[i].qty<=0)cart.splice(i,1);saveCart();updateCart();}
function removeItem(i){cart.splice(i,1);saveCart();updateCart();}
function updateCart(){
const it=document.getElementById("cartItems");
const c=document.getElementById("cartCount");
const t=document.getElementById("cartTotal");
if(!cart.length){it.innerHTML="<p class='text-muted text-center'>Your cart is empty</p>";c.innerText=0;t.innerText=0;return;}
let T=0,Q=0;it.innerHTML="";
cart.forEach((x,i)=>{T+=x.price*x.qty;Q+=x.qty;
it.innerHTML+=`
<div class="d-flex justify-content-between border-bottom pb-2 mb-2">
<div><strong>${x.name}</strong><div class="text-muted">₹${x.price}</div></div>
<div>
<button class="btn btn-sm btn-outline-secondary" onclick="changeQty(${i},-1)">−</button>
<span class="mx-2">${x.qty}</span>
<button class="btn btn-sm btn-outline-secondary" onclick="changeQty(${i},1)">+</button>
</div>
<div>₹${x.price*x.qty}
<button class="btn btn-sm btn-danger ms-2" onclick="removeItem(${i})">x</button>
</div></div>`})
c.innerText=Q;t.innerText=T;
}
function openCart(){bootstrap.Modal.getOrCreateInstance(cartModal).show()}
function openLogin(){bootstrap.Modal.getOrCreateInstance(loginModal).show()}
function checkout(){alert("Demo checkout complete")}
function openOrderHistory(){bootstrap.Modal.getOrCreateInstance(orderHistoryModal).show()}

document.addEventListener("DOMContentLoaded",()=>{updateCart();loadProducts();});
</script>

</body>
</html>
